# 벡터란 무엇인가

## 벡터의 기본 개념

벡터는 간단히 말해 **숫자들의 리스트**이다. 예를들어 "사과" 라는 단어를 벡터로 표현하면 다음과 같다.  

```plaintext
"사과" → [0.2, 0.8, 0.6 -0.9]
```

이 숫자들은 무작위가 아니라 각각이 특정한 의미나 특성을 나타낸다.

- 동물 관련성 → -0.2
- 빨간색 관련성 → 0.8 (높은 값)
- 달콤함 관련성 → 0.6
- 과일 카테고리 → 0.9

## 벡터는 상대적이다

여기서 중요한 점은 **벡터의 차원과 값은 완전히 상대적**이라는 것이다. 즉 동일한 단어가 항상 동일한 벡터값을 가지지 않고 상황에 따라 다를 수 있다. 아래 구체적인 예시를 살펴보자.

### 1. 같은 단어도 모델마다 차원수는 다를수 있다

```plaintext
모델 A: "사과" → [0.8, 0.6, 0.9] (3차원)
모델 B: "사과" → [0.8, 0.6, 0.9, -0.3, -0.2] (5차원)
OpenAI: "사과" → [0.1, 0.8, -0.3, ..., 0.2] (1536차원)
```

### 2. 같은 단어도 모델마다 완전히 다른 값을 표현할 수도 있다

```plaintext
한국어 모델: "사과" → [0.8, 0.6, 0.9]
영어 모델: "apple" → [0.2, -0.4, 0.7]
의료 모델: "사과" → [-0.1, 0.3, 0.1] (영양학 관점 강조)
```

### 3. 같은 단어도 학습 데이터에 따라서 다를 수 있다

```plaintext
일반 웹데이터 학습: "사과" → [0.8, 0.6, 0.9]
요리 레시피 학습: "사과" → [0.9, 0.3, 0.7] (요리재료 특성 강조)
```

따라서 같은 임베딩 모델을 일관되게 사용하는 것이 매우 중요하다. 문서를 OpenAI 모델로 벡터화했다면, 질문도 반드시 같은 OpenAI 모델을 사용해야 한다.

## 왜 벡터로 변환해야 할까?

프로그래밍을 공부할때 마다 항상 강조되는 부분인데 **컴퓨터는 본질적으로 숫자만 처리**할 수 있다는것이다. 즉 "사과"라는 문자를 컴퓨터가 이해할 수 없기 때문에 컴퓨터가 이해할 수 있는 숫자로 변환해야 한다.

## 벡터 간 유사성

벡터의 핵심은 **거리**이다. "사과"와 "배"는 과일 이므로 각각의 벡터값(거리)가 가깝다. 하지만 "사과"와 "자동차"는 전혀 다른 카테고리 이므로 거리가 멀다. 유사도 계산 방법은 직접 계산하거나 특정 패키지에서 계산 함수를 제공하여 사용된다.

## RAG에서 벡터의 활용

RAG 시스템에서 벡터는 다음과 같이 활용된다.

1. 문서 벡터화(Embedding)

    ```plaintext
    문서: "사과는 빨갛고 달콤한 과일이다"
    → 벡터: [0.2, 0.8, 0.6, 0.9, -0.1, ...]
    ```

2. 질문 벡터화

    ```plaintext
    질문: "빨간 과일에 대해 알려줘"
    → 벡터: [0.1, 0.7, 0.5, 0.8, -0.2, ...]
    ```

3. 유사도 기반 검색

    질문 벡터와 가장 가까운 문서 벡터들을 찾아서 관련성 높은 문서들을 선별

4. 컨텍스트 제공

    선별된 문서들을 LLM에서 제공하여 정확한 답변 생성
