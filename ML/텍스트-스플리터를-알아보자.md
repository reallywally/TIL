# 텍스트 스플리터를 알아보자

## 왜 분할해야 할까?

A라는 회사가 100억 투자를 받았다는 뉴스 기사가 있다고 생각해보자. 이 기사로 RAG를 만들고 "투자받은 금액이 얼마야?" 라는 질문을 했을때 기사에서 실제로 답변에 필요한 부분은 많지 않다. 즉, 질문에 연관성있는 부분만 가져오기 위한 정확성과 효율성을 위해 적정 단위로 텍스트를 분리해야한다.

## 텍스트 스플리터 작업이 어려운 이유

특정 텍스트 스필리터가 너무 좋고 상황에 관계 없이 스플리터에 입력하는 파라미터가 항상 효율적이라면 좋겠지만 그렇지 않다. 좋은 결과를 얻기 위해서는 여러 스플리터를 다양한 값으로 조정해보면서 결과를 확인해야하는 실험(노가다)가 필요하다. 그래서 1개의 스플리터만 알고있는것 보다 다양한 스플리터를 알고 많은 실험을 해볼 수 있는 능력이 중요하다.

## 종류

### CharacterTextSplitter

가장 간단한 방법으로 ```"\n\n"```을 기본값으로 텍스트를 분할한다.

```python
from langchain_text_splitters import CharacterTextSplitter

text_splitter = CharacterTextSplitter(
    # 텍스트를 분할할 때 사용할 구분자를 지정. 기본값은 "\n\n"입니다.
    # separator=" ",
    # 분할된 텍스트 청크의 최대 크기를 지정.
    chunk_size=250,
    # 분할된 텍스트 청크 간의 중복되는 문자 수를 지정.
    chunk_overlap=50,
    # 텍스트의 길이를 계산하는 함수를 지정.
    length_function=len,
    # 구분자가 정규식인지 여부를 지정.
    is_separator_regex=False,
)
```

### RecursiveCharacterTextSplitter

일반적으로 텍스트 스플리터 사용할때 권장되는 방식이다.
